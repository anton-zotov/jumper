!function(t){var i={};function n(e){if(i[e])return i[e].exports;var r=i[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=i,n.d=function(t,i,e){n.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:e})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,i){if(1&i&&(t=n(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var r in t)n.d(e,r,function(i){return t[i]}.bind(null,r));return e},n.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(i,"a",i),i},n.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},n.p="",n(n.s=6)}([function(t,i){function n(t,i){if(!(this instanceof n))return new n(t,i);this.x=t||0,this.y=i||0}t.exports=n,n.fromArray=function(t){return new n(t[0]||0,t[1]||0)},n.fromObject=function(t){return new n(t.x||0,t.y||0)},n.prototype.addX=function(t){return this.x+=t.x,this},n.prototype.addY=function(t){return this.y+=t.y,this},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},n.prototype.addScalarX=function(t){return this.x+=t,this},n.prototype.addScalarY=function(t){return this.y+=t,this},n.prototype.subtractX=function(t){return this.x-=t.x,this},n.prototype.subtractY=function(t){return this.y-=t.y,this},n.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},n.prototype.subtractScalarX=function(t){return this.x-=t,this},n.prototype.subtractScalarY=function(t){return this.y-=t,this},n.prototype.divideX=function(t){return this.x/=t.x,this},n.prototype.divideY=function(t){return this.y/=t.y,this},n.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},n.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},n.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},n.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},n.prototype.invertX=function(){return this.x*=-1,this},n.prototype.invertY=function(){return this.y*=-1,this},n.prototype.invert=function(){return this.invertX(),this.invertY(),this},n.prototype.multiplyX=function(t){return this.x*=t.x,this},n.prototype.multiplyY=function(t){return this.y*=t.y,this},n.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},n.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},n.prototype.multiplyScalarX=function(t){return this.x*=t,this},n.prototype.multiplyScalarY=function(t){return this.y*=t,this},n.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(n(t,t)),this},n.prototype.norm=n.prototype.normalize,n.prototype.limit=function(t,i){return Math.abs(this.x)>t&&(this.x*=i),Math.abs(this.y)>t&&(this.y*=i),this},n.prototype.randomize=function(t,i){return this.randomizeX(t,i),this.randomizeY(t,i),this},n.prototype.randomizeX=function(t,i){var n=Math.min(t.x,i.x),e=Math.max(t.x,i.x);return this.x=r(n,e),this},n.prototype.randomizeY=function(t,i){var n=Math.min(t.y,i.y),e=Math.max(t.y,i.y);return this.y=r(n,e),this},n.prototype.randomizeAny=function(t,i){return Math.round(Math.random())?this.randomizeX(t,i):this.randomizeY(t,i),this},n.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.prototype.toFixed=function(t){return void 0===t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},n.prototype.mixX=function(t,i){return void 0===i&&(i=.5),this.x=(1-i)*this.x+i*t.x,this},n.prototype.mixY=function(t,i){return void 0===i&&(i=.5),this.y=(1-i)*this.y+i*t.y,this},n.prototype.mix=function(t,i){return this.mixX(t,i),this.mixY(t,i),this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyX=function(t){return this.x=t.x,this},n.prototype.copyY=function(t){return this.y=t.y,this},n.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},n.prototype.zero=function(){return this.x=this.y=0,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.cross=function(t){return this.x*t.y-this.y*t.x},n.prototype.projectOnto=function(t){var i=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=i*t.x,this.y=i*t.y,this},n.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},n.prototype.horizontalAngleDeg=function(){return o(this.horizontalAngle())},n.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},n.prototype.verticalAngleDeg=function(){return o(this.verticalAngle())},n.prototype.angle=n.prototype.horizontalAngle,n.prototype.angleDeg=n.prototype.horizontalAngleDeg,n.prototype.direction=n.prototype.horizontalAngle,n.prototype.rotate=function(t){var i=this.x*Math.cos(t)-this.y*Math.sin(t),n=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=i,this.y=n,this},n.prototype.rotateDeg=function(t){return t=s(t),this.rotate(t)},n.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},n.prototype.rotateToDeg=function(t){return t=s(t),this.rotateTo(t)},n.prototype.rotateBy=function(t){var i=this.angle()+t;return this.rotate(i)},n.prototype.rotateByDeg=function(t){return t=s(t),this.rotateBy(t)},n.prototype.distanceX=function(t){return this.x-t.x},n.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},n.prototype.distanceY=function(t){return this.y-t.y},n.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},n.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},n.prototype.distanceSq=function(t){var i=this.distanceX(t),n=this.distanceY(t);return i*i+n*n},n.prototype.length=function(){return Math.sqrt(this.lengthSq())},n.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},n.prototype.magnitude=n.prototype.length,n.prototype.isZero=function(){return 0===this.x&&0===this.y},n.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},n.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},n.prototype.toArray=function(){return[this.x,this.y]},n.prototype.toObject=function(){return{x:this.x,y:this.y}};var e=180/Math.PI;function r(t,i){return Math.floor(Math.random()*(i-t+1)+t)}function o(t){return t*e}function s(t){return t/e}},function(t,i,n){var e=n(2);"string"==typeof e&&(e=[[t.i,e,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(4)(e,r);e.locals&&(t.exports=e.locals)},function(t,i,n){(t.exports=n(3)(!1)).push([t.i,"* {\r\n\tmargin: 0;\r\n\tpadding: 0;\r\n}\r\nhtml, body {\r\n\theight: 100%;\r\n\toverflow: hidden;\r\n}",""])},function(t,i,n){"use strict";t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var n=function(t,i){var n=t[1]||"",e=t[3];if(!e)return n;if(i&&"function"==typeof btoa){var r=(s=e,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[n].concat(o).concat([r]).join("\n")}var s;return[n].join("\n")}(i,t);return i[2]?"@media "+i[2]+"{"+n+"}":n})).join("")},i.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},r=0;r<this.length;r++){var o=this[r][0];null!=o&&(e[o]=!0)}for(r=0;r<t.length;r++){var s=t[r];null!=s[0]&&e[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),i.push(s))}},i}},function(t,i,n){var e,r,o={},s=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=e.apply(this,arguments)),r}),h=function(t,i){return i?i.querySelector(t):document.querySelector(t)},a=function(t){var i={};return function(t,n){if("function"==typeof t)return t();if(void 0===i[t]){var e=h.call(this,t,n);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}}(),c=null,u=0,p=[],l=n(5);function y(t,i){for(var n=0;n<t.length;n++){var e=t[n],r=o[e.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](e.parts[s]);for(;s<e.parts.length;s++)r.parts.push(m(e.parts[s],i))}else{var h=[];for(s=0;s<e.parts.length;s++)h.push(m(e.parts[s],i));o[e.id]={id:e.id,refs:1,parts:h}}}}function f(t,i){for(var n=[],e={},r=0;r<t.length;r++){var o=t[r],s=i.base?o[0]+i.base:o[0],h={css:o[1],media:o[2],sourceMap:o[3]};e[s]?e[s].parts.push(h):n.push(e[s]={id:s,parts:[h]})}return n}function d(t,i){var n=a(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=p[p.length-1];if("top"===t.insertAt)e?e.nextSibling?n.insertBefore(i,e.nextSibling):n.appendChild(i):n.insertBefore(i,n.firstChild),p.push(i);else if("bottom"===t.insertAt)n.appendChild(i);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(t.insertAt.before,n);n.insertBefore(i,r)}}function x(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var i=p.indexOf(t);i>=0&&p.splice(i,1)}function g(t){var i=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var e=function(){0;return n.nc}();e&&(t.attrs.nonce=e)}return v(i,t.attrs),d(t,i),i}function v(t,i){Object.keys(i).forEach((function(n){t.setAttribute(n,i[n])}))}function m(t,i){var n,e,r,o;if(i.transform&&t.css){if(!(o="function"==typeof i.transform?i.transform(t.css):i.transform.default(t.css)))return function(){};t.css=o}if(i.singleton){var s=u++;n=c||(c=g(i)),e=S.bind(null,n,s,!1),r=S.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var i=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(i,t.attrs),d(t,i),i}(i),e=A.bind(null,n,i),r=function(){x(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(i),e=M.bind(null,n),r=function(){x(n)});return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else r()}}t.exports=function(t,i){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(i=i||{}).attrs="object"==typeof i.attrs?i.attrs:{},i.singleton||"boolean"==typeof i.singleton||(i.singleton=s()),i.insertInto||(i.insertInto="head"),i.insertAt||(i.insertAt="bottom");var n=f(t,i);return y(n,i),function(t){for(var e=[],r=0;r<n.length;r++){var s=n[r];(h=o[s.id]).refs--,e.push(h)}t&&y(f(t,i),i);for(r=0;r<e.length;r++){var h;if(0===(h=e[r]).refs){for(var a=0;a<h.parts.length;a++)h.parts[a]();delete o[h.id]}}}};var b,w=(b=[],function(t,i){return b[t]=i,b.filter(Boolean).join("\n")});function S(t,i,n,e){var r=n?"":e.css;if(t.styleSheet)t.styleSheet.cssText=w(i,r);else{var o=document.createTextNode(r),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(o,s[i]):t.appendChild(o)}}function M(t,i){var n=i.css,e=i.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function A(t,i,n){var e=n.css,r=n.sourceMap,o=void 0===i.convertToAbsoluteUrls&&r;(i.convertToAbsoluteUrls||o)&&(e=l(e)),r&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([e],{type:"text/css"}),h=t.href;t.href=URL.createObjectURL(s),h&&URL.revokeObjectURL(h)}},function(t,i){t.exports=function(t){var i="undefined"!=typeof window&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=i.protocol+"//"+i.host,e=n+i.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,i){var r,o=i.trim().replace(/^"(.*)"$/,(function(t,i){return i})).replace(/^'(.*)'$/,(function(t,i){return i}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(t,i,n){"use strict";n.r(i);n(1);var e=n(0),r=n.n(e);const o=400;class s{constructor(t,i,n,e){this.canvas=t,this.x=i,this.y=n,this.color=e,this.positionHistory=[]}move(t,i){this.positionHistory.push({x:this.x,y:this.y}),this.x+=t,this.y+=i}place(t,i){this.positionHistory.push({x:this.x,y:this.y}),this.x=t,this.y=i}moveBack(){const{x:t,y:i}=this.positionHistory.pop();this.x=t,this.y=i}findPosition(t){let[{x:i,y:n}]=this.positionHistory.slice(-1),e=this.x,o=this.y;const s=()=>new r.a(i-e,n-o).length();for(;s()>1;){let r=(i+e)/2,s=(n+o)/2;t(r,s)?(i=r,n=s):(e=r,o=s)}return[i,n]}}class h extends s{constructor(t,i,n,e,r,o=0,s){super(t,i,n,s),this.width=e,this.height=r,this.angle=o}draw(){this.color&&(this.canvas.context.fillStyle=this.color),this.canvas.context.translate(this.x,this.y),this.canvas.context.rotate(this.angle),this.canvas.context.fillRect(-this.width/2,-this.height/2,this.width,this.height),this.canvas.context.rotate(-this.angle),this.canvas.context.translate(-this.x,-this.y)}}class a extends s{constructor(t,i,n,e,r){super(t,i,n,r),this.radius=e}draw(){this.color&&(this.canvas.context.strokeStyle=this.color,this.canvas.context.fillStyle=this.color),this.canvas.context.beginPath(),this.canvas.context.arc(this.x,this.y,this.radius,0,2*Math.PI),this.canvas.context.stroke(),this.canvas.context.fill()}}const c=new class{constructor(){this.create(),window.addEventListener("resize",this.resizeCanvas.bind(this),!1)}get context(){return this._context}get width(){return this.canvas.width}get height(){return this.canvas.height}clear(){this.context.clearRect(0,0,this.width,this.height)}drawFPS(t){this.context.fillStyle="#888",this.context.font="24px Arial",this.context.fillText(`FPS: ${t}`,this.width-150,40)}drawHint(){this.context.fillStyle="#ccc",this.context.font="40px Arial",this.context.fillText("Use arrows to control the jumper",this.width/2-300,this.height/2-60)}create(t={width:1600,height:900}){this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas),this.resizeCanvas(),this._context=this.canvas.getContext("2d")}resizeCanvas(){this.canvas.width=window.innerWidth,this.canvas.height=document.body.scrollHeight}},u=new class{constructor(t){this.canvas=t,this.height=100}draw(){this.canvas.context.fillStyle="#000",this.canvas.context.fillRect(0,this.canvas.height-this.height,9999,this.height)}isCollision(t,i){return i>this.canvas.height-this.height}}(c),p=new class{constructor(t,i){this.canvas=t,this.actions=i,this.userDa=0,this.x=100,this.y=390,this.bodyWidth=20,this.bodyHeight=50,this.dx=0,this.dy=0,this.da=0,this.springMaxLength=50,this.springRigidity=200,this.footIsStanding=!1,this.lastAngle=0,this.userRotationSpeed=Math.PI,this.userSpringForce=0,this.userSpringForceChange=50,this.body=new h(t,this.x,this.y,this.bodyWidth,this.bodyHeight,0,"#3b80ef");let n=Math.PI/2+Math.PI/90;this.foot=new a(t,this.x+(this.bodyHeight/2+this.springMaxLength)*Math.cos(n),this.y+(this.bodyHeight/2+this.springMaxLength)*Math.sin(n),6,"#5ee4ff")}get parts(){return[this.body,this.foot]}get angle(){return new r.a(this.foot.x,this.foot.y).subtract(new r.a(this.body.x,this.body.y)).horizontalAngle()}get springConnectionPoint(){return new r.a(this.body.x+this.bodyHeight/2*Math.cos(this.angle),this.body.y+this.bodyHeight/2*Math.sin(this.angle))}get currentSpringMaxLength(){return Math.max(10,this.springMaxLength-this.userSpringForce)}get springVector(){return new r.a(this.foot.x,this.foot.y).subtract(this.springConnectionPoint)}get springLength(){return this.springVector.length()}draw(){this.parts.forEach(t=>t.draw()),this.drawSpring()}squeezeSpring(t){this.userSpringForce+=this.userSpringForceChange*t}releaseSpring(){this.userSpringForce=0,this.placeFoot(this.angle)}drawSpring(){let t=this.springLength/3;const i=(t,i)=>{let n=this.angle-Math.PI/2;return[this.springConnectionPoint.x+t*Math.cos(n)-i*Math.sin(n),this.springConnectionPoint.y+i*Math.cos(n)+t*Math.sin(n)]},n=(t,n)=>{this.canvas.context.lineTo.apply(this.canvas.context,i(t,n))};this.canvas.context.strokeStyle="#000",this.canvas.context.beginPath(),this.canvas.context.moveTo(this.springConnectionPoint.x,this.springConnectionPoint.y);for(let i=0;i<3;i++)n(8,t/4+t*i),n(-16,3*t/4+t*i),n(0,t+t*i);this.canvas.context.stroke()}rotate(t){}move(t){if(this.dy+=o*t,this.footIsStanding||this.actions.checkCollision(this.foot.x,this.foot.y)){if(!this.footIsStanding){let[t,i]=this.foot.findPosition((t,i)=>!this.actions.checkCollision(t,i));this.foot.place(t,i)}this.footIsStanding=!0;let i=this.springVector.norm().multiplyScalar(this.springRigidity*(this.springLength-this.springMaxLength));this.dx+=i.x*t,this.dy+=i.y*t,this.dy-=o*t,this.da=(this.angle-this.lastAngle)/t}this.lastAngle=this.angle,this.body.angle=this.angle-Math.PI/2;let i=this.springLength,n=this.angle;this.body.move(this.dx*t,this.dy*t),(Math.abs(i-this.currentSpringMaxLength)<.001||i-this.currentSpringMaxLength>.001||this.springLength-this.currentSpringMaxLength>.001)&&(this.placeFoot(n+(this.da+this.userDa*this.userRotationSpeed)*t),this.footIsStanding=!1)}placeFoot(t){this.foot.place(this.body.x+(this.bodyHeight/2+this.currentSpringMaxLength)*Math.cos(t),this.body.y+(this.bodyHeight/2+this.currentSpringMaxLength)*Math.sin(t))}}(c,{checkCollision:u.isCollision.bind(u)});let l=0,y={},f={};function d(t){let i=x(t);c.clear(),p.userDa=0,y.ArrowRight&&(p.userDa=1),y.ArrowLeft&&(p.userDa=-1),y.ArrowDown&&p.squeezeSpring(i),f.ArrowDown&&p.releaseSpring(),f={},p.move(i),function(t){let i=Math.round(1/x(t));c.drawFPS(i),l=t}(t),c.drawHint(),u.draw(),p.draw(),setTimeout(()=>window.requestAnimationFrame(d),1e3/60)}const x=t=>(t-l)/1e3;window.requestAnimationFrame(d),document.addEventListener("keydown",t=>{"Space"==t.code&&window.requestAnimationFrame(d),y[t.code]=!0}),document.addEventListener("keyup",t=>{y[t.code]=!1,f[t.code]=!0})}]);